<div>
  <label for="name">Endpoint name</label>
  <input id="name" type="text" [(ngModel)]="endpoint.name" />
</div>

<div>
  <label for="type">Endpoint type</label>
  <select id="name" [(ngModel)]="endpoint.type">
    <option value="push">Push</option>
    <option value="pull">Pull</option>
  </select>
</div>

<div *ngIf="endpoint.type == 'pull'">
  <label for="authorizationList">Authorization List</label>
  <input id="authorizationList" type="text" [(ngModel)]="endpoint.authorizationList" />
</div>

<div *ngIf="endpoint.type == 'push'">
  <label for="naUrl">NA/NG URL</label>
  <input id="naUrl" type="text" [(ngModel)]="endpoint.naUrl" />
</div>

<div>
  <ng-container *ngIf="endpoint.type=='push'">
    Business messages for any of the institutions in this group are pushed to the NA/NG URL
  </ng-container>
  <ng-container *ngIf="endpoint.type=='pull'">
    Business messages for any of the institutions in this group can be pulled from the AP Inbox URL
  </ng-container>

  <ng-container *ngIf="endpoint.businessMessageRule; else elseBlock">
    if
    <div>
      <button (click)="deleteRule()">x</button>
      <app-business-message-rule-editor [(rule)]="endpoint.businessMessageRule"></app-business-message-rule-editor>
    </div>
  </ng-container>
  <ng-template #elseBlock>
    <button (click)="createSimpleRule()">Create simple rule</button>
    <button (click)="createCompositeRule()">Create composite rule</button>
  </ng-template>
</div>

<div>
  <ng-container *ngIf="endpoint.systemMessageSubscriptions.length; else noSubscriptions">
    <ng-container *ngIf="endpoint.type == 'push'">
      System messages are created and pushed to this endpoint for
    </ng-container>
    <ng-container *ngIf="endpoint.type == 'pull'">
      System messages are created and can be pulled from this endpoint for
    </ng-container>
  </ng-container>
  <ng-template #noSubscriptions>
    System messages are not created for this endpoint
  </ng-template>
  <app-subscription-list-editor [(subscriptions)]="endpoint.systemMessageSubscriptions"></app-subscription-list-editor>
</div>
